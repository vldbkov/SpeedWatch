v1.0.0

SpeedWatch

![SpeedWatch Logo](src/icon.ico)
 

Мониторинг скорости интернета с уведомлениями о качестве соединения

[![Release](https://img.shields.io/badge/release-v1.0.0-success)](https://github.com/baykovv/SpeedWatch/releases)
[![Python](https://img.shields.io/badge/python-3.12%2B-blue)](https://www.python.org/)
[![Windows](https://img.shields.io/badge/platform-windows-0078D6)](https://www.microsoft.com/windows)
[![Auto Update](https://img.shields.io/badge/auto_update-enabled-green)](https://github.com/baykovv/SpeedWatch/releases)
[![License](https://img.shields.io/badge/license-MIT-yellow)](LICENSE)
[![Downloads](https://img.shields.io/github/downloads/baykovv/SpeedWatch/total)](https://github.com/baykovv/SpeedWatch/releases)

О программе

SpeedWatch — это программа для мониторинга скорости интернет-соединения, которая:
- Отслеживает скорость скачивания, отдачи, пинг и джиттер
- Строит графики изменений за период
- Уведомляет о проблемах с качеством соединения
- Работает в системном трее
- Сохраняет историю замеров в базу данных

Полное руководство по установке и настройке

1. Клонирование репозитория
```
git clone https://github.com/baykovv/SpeedWatch.git
cd SpeedWatch
```

3. Установка зависимостей
```
py -3.12 -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

5. Настройка openspeedtest-cli
```
cd src
.\update_cli.ps1
```

Скрипт автоматически:
- Скачает последнюю версию openspeedtest-cli
- Создаст исправленную версию openspeedtest-cli-fixed (без проблемных символов)
- Найдет API ключ в файле .env (если есть)
- Сохранит ключ в конфигурацию CLI

4. Ручной ввод API ключа (если не был найден автоматически)
Если ключ не найден, скрипт запросит его ввод. Ключ можно получить на openspeedtest.ru после регистрации.
```
py -3.12 .\openspeedtest-cli-fixed configure
```

6. Проверка работы
```
py -3.12 .\openspeedtest-cli-fixed
py -3.12 main.py
```

Использование программы

Основное окно
После запуска программа сворачивается в системный трей (рядом с часами). Иконка в трее: синий квадрат с надписью SPD.

Управление через трей
Кликните правой кнопкой мыши по иконке в трее:
- Окно программы показать/скрыть - открыть главное окно
- Показать/скрыть консоль - показать/скрыть консольное окно (для отладки)
- Тест сейчас - выполнить разовый тест скорости
- Проверить обновления - ручная проверка новой версии
- О программе - информация о версии и ссылки
- Выход - завершить программу

Главное окно - вкладки

Мониторинг
- Текущие показатели скорости
- Кнопки управления: Запуск мониторинга, Остановить, Тест сейчас
- Таймер обратного отсчета до следующего теста
- Статус выполнения

Графики
- Визуализация скорости (загрузка/отдача)
- График пинга и джиттера
- Выбор периода: 1 день, 7 дней, 30 дней, все время
- Кнопка Экспорт PNG - сохранить график в файл

Журнал
- Таблица всех измерений
- Фильтр по дате (календарь)
- Средние значения за выбранный период
- Цветовые индикаторы: красный - значения ниже/выше среднего на 25%, ▼ - скорость ниже средней, ▲ - пинг выше среднего
- Кнопки: Обновить, Экспорт в CSV, Очистить журнал

Настройки
- Интервал проверки - как часто проводить тесты (1-1440 минут)
- Автозапуск при старте Windows - программа будет запускаться с системой
- Сворачивать в трей - автоматически сворачивать окно при запуске
- Сохранить настройки - применить изменения (программа перезапустится)

Особенности работы

Анализ качества соединения
- Обнаружение проблем: падение скорости скачивания >25%, рост пинга >100%, частый джиттер >15 мс (>30% измерений)
- Уведомления при ухудшении качества
- Средние значения за неделю

Обновления
- Автоматическая проверка обновлений при старте
- Ручная проверка из меню трея
- Прямая ссылка на скачивание новой версии

Автозапуск Windows
Если включена опция Автозапуск при старте Windows, программа добавляется в реестр и запускается без окна консоли (через pythonw.exe).

Обновление openspeedtest-cli
Для обновления CLI до последней версии повторно запустите:
```
cd src
.\update_cli.ps1
```

Решение проблем

Ошибка Файл openspeedtest-cli не найден
- Запустите update_cli.ps1 для скачивания CLI

Ошибка API ключ не настроен
- Проверьте наличие файла .env в корне проекта
- Или выполните: py -3.12 .\openspeedtest-cli-fixed configure

Тест не выполняется, ошибка таймаута
- Проверьте интернет-соединение
- Увеличьте таймаут в коде (параметр timeout=120)

В журнале нет джиттера
- Это нормально для некоторых серверов, если они его не предоставляют

Структура проекта
```
SpeedWatch/
├── src/
│   ├── main.py                 # Основная программа
│   ├── openspeedtest-cli-fixed # Исправленный CLI (создается скриптом)
│   ├── update_cli.ps1           # Скрипт обновления CLI
│   └── icon.ico                 # Иконка программы
├── data/
│   ├── internet_speed.db        # База данных измерений
│   └── speed_monitor.log        # Лог-файл
├── .env                          # API ключ (создать вручную)
├── requirements.txt              # Зависимости Python
├── README.md                     # Этот файл
└── README_v1.0.0.md              # Документация для версии 1.0.0
```

Формат .env файла
Создайте файл .env в корне проекта:
OPENSPEEDTEST_API_KEY=ваш_64_символьный_ключ

Требуемые библиотеки
```
pystray
Pillow
matplotlib
tkcalendar
psutil
requests>=2.28.0
pywin32
```

Версии

- v1.0.0 - Первый стабильный релиз (README_v1.0.0.md) - текущая версия
- Все релизы (https://github.com/baykovv/SpeedWatch/releases)

Участие в разработке

- Сообщить об ошибке (https://github.com/baykovv/SpeedWatch/issues/new?labels=bug)
- Предложить идею (https://github.com/baykovv/SpeedWatch/issues/new?labels=enhancement)
- Поставить звезду на GitHub

Поддержать проект

Если вам нравится SpeedWatch, вы можете поддержать автора:
[Поддержать на YooMoney](https://yoomoney.ru/to/4100119453410920)

Лицензия

MIT License

Поддержка
При возникновении проблем проверьте лог-файл data/speed_monitor.log

Сделано с ❤️ для стабильного интернета
